<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Propiedades Veracruz IA{% endblock %}</title>

    {# Favicon - Apunta a tu archivo favicon.png #}
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='favicons/favicon.png') }}">

    {# Bootstrap 5 CSS #}
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" xintegrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    {# Font Awesome para iconos (versión 5.15.4) - Corregido el atributo integrity #}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" xintegrity="sha512-..." crossorigin="anonymous" referrerpolicy="no-referrer" />

    {# Tu CSS personalizado - Lo añadimos DESPUÉS de Bootstrap para poder sobrescribir sus estilos #}
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

    <!-- Puedes añadir más enlaces a CSS o scripts JS globales aquí -->
</head>
<body>
    <header>
        {# La navegación de Bootstrap se definirá en index.html #}
        {# Este h1 y ul son solo placeholders de base.html, el diseño real viene de index.html #}
        <nav class="d-none"> {# Ocultamos esta nav básica, la de Bootstrap la pondremos en index.html #}
            <h1><a href="{{ url_for('main.home') }}">Propiedades Veracruz IA</a></h1>
            <ul> {# Lista para enlaces de navegación #}
                <li><a href="{{ url_for('main.add_property') }}">Añadir Propiedad</a></li> {# Enlace al formulario de añadir propiedad #}
            </ul>
        </nav>
    </header>

    <main> {# Esta es la ÚNICA etiqueta <main> para el contenido principal #}
        {# Bucle para mostrar mensajes flash (éxito, error, etc.) #}
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                <ul class="flashes">
                    {% for category, message in messages %}
                        <li class="{{ category }}">{{ message }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
        {% endwith %}

        {# Este es el ÚNICO bloque de contenido principal que las plantillas hijas rellenarán #}
        {% block content %}
        <!-- Este bloque será rellenado por las plantillas hijas -->
        {% endblock %}
    </main>

    <footer>
        <p>&copy; {{ 2025 }} Propiedades Veracruz IA. Todos los derechos reservados.</p>
        <!-- Puedes añadir más información de pie de página aquí -->
    </footer>

    {# Bootstrap 5 JavaScript Bundle (incluye Popper) #}
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" xintegrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    {# Tu JavaScript personalizado para el carrusel #}
    <script src="{{ url_for('static', filename='js/carousel.js') }}"></script>
</body>
</html>